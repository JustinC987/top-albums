<div class="container">
  <h1>
    Band Archive
  </h1>
  <div class="flex-outer archive-controls">

    <div class="flex-inner">
      <button class="button-primary" (click)="addAlbum() ">Add</button>
      <button class="button-primary" (click)="editSelection()">Edit</button>
      <button class="button-danger" (click)="deleteSelection()">Delete</button>
    </div>
  </div>
  <br>
  
  <div class="table-scroll-container">
    <p *ngIf="!bands">No Bands Found</p>
    <table mat-table
      [dataSource]="bands"
      matSort
      matSortActive="id"
      matSortDisableClear
      matSortDirection="asc"
    >

      <!-- Select Column -->
      <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef>
          <mat-checkbox (change)="masterToggle()"
            [checked]="selection.hasValue()"
            [indeterminate]="selection.hasValue()">
          </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let row">
          <mat-checkbox (click)="$event.stopPropagation()"
            (change)="$event ? selection.toggle(row) : null"
            [checked]="selection.isSelected(row)">
          </mat-checkbox>
        </td>
      </ng-container>

      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
        <td mat-cell *matCellDef="let row">
          <a (click)="editBand(row)"><i class="fas fa-pencil-alt"></i></a>
          <a (click)="deleteBand(row)"><i class="far fa-trash-alt"></i></a>
        </td>
      </ng-container>

      <!-- fname Column -->
      <ng-container matColumnDef="bandName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Band</th>
        <td mat-cell *matCellDef="let row">{{row.bandName}}</td>
      </ng-container>

      <!-- lname Column -->
      <ng-container matColumnDef="favAlbum">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Favorite Album</th>
        <td mat-cell *matCellDef="let row">{{row.favAlbum}}</td>
      </ng-container>

      <!-- Header Row -->
      <tr mat-header-row *matHeaderRowDef="columns"></tr>
      <tr mat-row *matRowDef="let row; columns: columns;"></tr>
    </table>
  </div>
  <br>
  <mat-paginator [length]="nResults"
    [pageSizeOptions]="[5, 10, 25, 100]"
    showFirstLastButtons>
  </mat-paginator>
  <br>
</div>